<!DOCTYPE html>
<html>
<head>
    <title>AI Food Recommendation</title>
    <style>
        body {
            font-family: Arial;
            background: #f4f4f4;
            padding: 20px;
        }

        h2 {
            color: #e67e22;
        }

        img {
            width: 160px;
            height: 120px;
            border-radius: 10px;
        }

        button {
            margin-top: 8px;
            padding: 6px 12px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #suggestions div:hover {
            background: #eee;
        }

        /* ===== MAIN LAYOUT ===== */
        .main-container {
            display: grid;
            grid-template-columns: 3fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        /* ===== MENU GRID ===== */
        #menu {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .food-card {
            background: white;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            text-align: center;
        }

        /* ===== ORDER STATUS PANEL ===== */
        .order-section {
            background: #fff;
            padding: 15px;
            border-radius: 10px;
            min-height: 300px;
            position: sticky;
            top: 20px;
        }
    </style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox">
    <h2>üîê Login</h2>
    <input type="text" id="username" placeholder="Enter your name">
    <br><br>
    <button onclick="login()">Login</button>
</div>

<!-- APP -->
<div id="app" style="display:none;">

<h2>üçΩ AI Food Recommendation System</h2>

<input type="text" id="food" placeholder="Search food..." onkeyup="smartSearch()">
<div id="suggestions" style="background:white;max-width:200px;"></div>

<div class="main-container">

    <!-- MENU -->
    <div class="menu-section">
        <h3>üç¥ Menu</h3>
        <div id="menu"></div>
    </div>

    <!-- ORDER STATUS -->
    <div class="order-section">
        <h3>üì¶ Order Status</h3>
        <div id="result"></div>
    </div>

</div>
</div>

<script>
// ---------- LOGIN ----------
function login() {
    const name = document.getElementById("username").value;
    if (name.trim() === "") {
        alert("Please enter your name");
        return;
    }
    localStorage.setItem("user", name);
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("app").style.display = "block";
}

function checkLogin() {
    if (localStorage.getItem("user")) {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("app").style.display = "block";
    }
}

// ---------- FOOD DATA ----------
const foodDetails = {
    "Chicken Biryani": {price: 250, rating: 4.5, img: "images/chicken_biryani.jpg"},
    "Paneer Butter Masala": {price: 220, rating: 4.3, img: "images/paneer_butter_masala.jpg"},
    "Veg Fried Rice": {price: 180, rating: 4.0, img: "images/veg_fried_rice.jpg"},
    "Chicken Noodles": {price: 200, rating: 4.2, img: "images/chicken_noodles.jpg"},
    "Burger": {price: 150, rating: 4.1, img: "images/burger.jpg"},
    "Margherita Pizza": {price: 300, rating: 4.4, img: "images/pizza.jpg"}
};

// ---------- SMART SEARCH ----------
function smartSearch() {
    const query = document.getElementById("food").value.toLowerCase();
    const suggestions = document.getElementById("suggestions");
    suggestions.innerHTML = "";

    if (!query) return;

    for (let item in foodDetails) {
        if (item.toLowerCase().includes(query)) {
            const div = document.createElement("div");
            div.style.padding = "5px";
            div.style.cursor = "pointer";
            div.innerText = item;
            div.onclick = () => {
                document.getElementById("food").value = item;
                suggestions.innerHTML = "";
                orderFood(item);
            };
            suggestions.appendChild(div);
        }
    }
}

// ---------- LOAD MENU ----------
function loadMenu() {
    const menu = document.getElementById("menu");
    menu.innerHTML = "";

    for (let item in foodDetails) {
        const food = foodDetails[item];
        menu.innerHTML += `
            <div class="food-card">
                <img src="${food.img}">
                <h4>${item}</h4>
                <p>‚Çπ${food.price} | ‚≠ê ${food.rating}</p>
                <button onclick="orderFood('${item}')">Order Now</button>
            </div>
        `;
    }
}
function getExplanation(item) {
    return "Recommended because it has similar cuisine, price range, and customer rating.";
}

// ---------- ORDER STATUS ----------
function orderFood(item) {
    const food = foodDetails[item];
    const result = document.getElementById("result");

    result.innerHTML = `
    <div class="food-card">
        <h4>üì¶ Order Status</h4>
        <p><b>Item:</b> ${item}</p>
        <p><b>Price:</b> ‚Çπ${food.price}</p>
        <p style="color:green;"><b>Status:</b> Order Placed ‚úÖ</p>
        <p style="font-size:13px;color:#555;">
            ü§ñ <b>Why recommended:</b> ${getExplanation(item)}
        </p>
    </div>
`;


    setTimeout(() => result.innerHTML += `<p style="color:orange;"><b>Status:</b> Preparing üç≥</p>`, 2000);
    setTimeout(() => result.innerHTML += `<p style="color:blue;"><b>Status:</b> Out for Delivery üöö</p>`, 4000);
    setTimeout(() => result.innerHTML += `<p style="color:darkgreen;"><b>Status:</b> Delivered üéâ</p>`, 6000);
}

// ---------- INIT ----------
window.onload = function () {
    checkLogin();
    loadMenu();
};
</script>

</body>
</html>
